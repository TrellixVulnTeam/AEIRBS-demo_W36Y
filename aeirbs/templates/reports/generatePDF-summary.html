<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
        integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="style2.css">
    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">

    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
        integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
        crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
        integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css"
        integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous">

    <!--Font-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,900&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8"
        src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>

        
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

    <title>Summary Report</title>
</head>
<style>

</style>
{% load static %}

<body>
    <div class="container-fluid mt-4">
        <center>
            <img src="http://127.0.0.1:8000/static/icons/AEIRBS-BLACK.png" height="75">
            <h2>Automatic Emergency Interpreter, Recorder, and Broadcasting System</h2>
        </center>
        <br>
        <table class="table table-bordered mt-4 " style="width:100%; text-align:center; ">
            <thead class="table-header mt-2 ">
                <tr>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                    <td>Date: {{date}}</td>
                </tr>
                <tr>
                    <td>
                        {% if audit_type == 0 %}
                        <h1>COMPONENT LOGS</h1>
                        {% elif audit_type == 1 %}
                        <h1>USER LOGS</h1>
                        {% elif audit_type == 2 %}
                        <h1>MAINTENANCE LOGS</h1>
                        {% endif %}
                    </td>
                    <td></td>
                    <td>Time: {{time}}</td>
                </tr>
            </tbody>
        </table>
        <br>
        <hr>
        <table class="table table-bordered mt-4 " style="width:100%; text-align:center; ">
            <thead class="table-header mt-2 ">
                <tr>
                    <th>Audit ID</th>
                    <th>Activity</th>
                    <th>Accountability</th>
                    <th>Date and Time</th>
                    <th>Details</th>
                </tr>
            </thead>
        </table>
        <hr>
        <table class="table table-bordered mt-4 " style="width:100%; text-align:center; ">
            <tbody>
                {% for log in audit %}
                <tr class="table-row ">
                    <td>{{log.log_id}}</td>
                    <td>{{log.activity}}</td>
                    <td>{{log.username.first_name}} {{log.username.last_name}}</td>
                    <td>{{log.date_time|date:"d/m/Y h:i:s" }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <hr>
    </div>

    <canvas id="summary-chart" height="90%"></canvas>
    <div class="container-fluid mt-4" style="padding:0 25px 25px 25px; ">
        <div class="container-fluid"
          style="background-color: white; padding: 25px; box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.3); border-radius: 5px;">
          <center><canvas id="summary-chart" height="90%"></canvas></center>
        </div>
      </div>
    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js "
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo "
        crossorigin="anonymous "></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js "
        integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ "
        crossorigin="anonymous "></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js "
        integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm "
        crossorigin="anonymous "></script>
    <link rel="stylesheet " type="text/css " href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css ">

    <script type="text/javascript " charset="utf8 "
        src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js "></script>
</body>
<script>
        var ctx = document.getElementById('summary-chart').getContext('2d');
        var myChart = new Chart(ctx, {
          type: 'line',
          data: {
            labels: ["try", "try", "try"],
            datasets: [
              {
                label: 'Earthquake',
                data: [1,2,3],
                lineTension: 0,
                backgroundColor: 'rgb(229, 191, 154, 0.3)',
                borderColor: 'rgb(229, 191, 154)',
                borderWidth: 3,
                pointBorderColor: 'rgb(229, 191, 154)',
                pointBackgroundColor: 'rgb(229, 191, 154, 0.8)',
                pointRadius: 3,
                pointHoverBackgroundColor: 'rgb(254, 193, 7)',
                pointHoverBorderColor: 'rgb(254, 193, 7)',
                pointHoverRadius: 5,
              }, {
                label: 'Fire',
                data: [1,2,3],
                lineTension: 0,
                backgroundColor: 'rgba(255, 126, 103, 0.3)',
                borderColor: 'rgba(255, 126, 103)',
                borderWidth: 3,
                pointBorderColor: 'rgba(255, 126, 103)',
                pointBackgroundColor: 'rgba(255, 126, 103, 0.8)',
                pointRadius: 3,
                pointHoverBackgroundColor: 'rgb(254, 193, 7)',
                pointHoverBorderColor: 'rgb(254, 193, 7)',
                pointHoverRadius: 5,
              }, {
                label: 'Flood',
                data: [1,2,3],
                lineTension: 0,
                lineTension: 0,
                backgroundColor: 'rgba(162, 213, 242, 0.3)',
                borderColor: 'rgba(162, 213, 242)',
                borderWidth: 3,
                pointBorderColor: 'rgba(162, 213, 242)',
                pointBackgroundColor: 'rgba(162, 213, 242, 0.8)',
                pointRadius: 3,
                pointHoverBackgroundColor: 'rgb(254, 193, 7)',
                pointHoverBorderColor: 'rgb(254, 193, 7)',
                pointHoverRadius: 5,
              }
            ]
          },
          options: {
            scales: {
              yAxes: [{
                scaleLabel: {
                  display: true,
                  labelString: 'Number of Occurrence',
                  fontFamily: 'Montserrat',
                  fontStyle: 'bold',
                }
              }],
              xAxes: [{
                scaleLabel: {
                  display: true,
                  labelString: 'Month',
                  fontFamily: 'Montserrat',
                  fontStyle: 'bold',
                }
              }],
            }
          }
        });

</script>
</html>